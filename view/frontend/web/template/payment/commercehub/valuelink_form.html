<!--
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
-->

<!-- ko if: isValuelinkEnabled() -->
<div class="payment-option _collapsible opc-payment-additional giftcardaccount "
     data-bind="mageInit: {'collapsible':{'openedState': '_active'}}, attr: {'id': getCode() + '-placer'}">
    <div class="payment-option-title field choice" data-bind="attr: {'id': getCode() + '-title'}, click: toggleValuelinkForm" data-role="title">
        <span class="action action-toggle" id="block-giftcard-heading" role="heading" aria-level="2">
		<span data-bind="text: getValuelinkTitle()"></span>
	</span>
    </div>
    <div class="payment-option-content" data-role="content">
	<!-- ko foreach: getRegion('messages') -->
	<!-- ko template: getTemplate() --><!-- /ko -->
	<!--/ko-->
	<div class="sdc-row">
		<div id="valuelink-sdc-card-number-frame" class="sdc-field-frame sdc-text">
			<div data-bind="attr: {'id': getCode() + '-card-number'}" class="sdc-field"></div>
		</div>
		<span id="valuelink-sdc-card-number-invalid-message" class="sdc-error-message sdc-hidden"></span>
	</div>
	<div class="sdc-row">
		<div id="valuelink-sdc-security-code-frame" class="sdc-field-frame sdc-text">
			<div data-bind="attr: {'id': getCode() + '-security-code'}" class="sdc-field"></div>
		</div>
		<span id="valuelink-sdc-security-code-invalid-message" class="sdc-error-message sdc-hidden"></span>
	</div>
    
	<div data-bind="attr: { 'id': getCode() + '-card-info-panel' }" style="display: none;">
		<div data-bind="attr: { 'id': getCode() + '-card-balance-info-panel' }">
			<span>Current Balance:</span>
			<span data-bind="attr: { 'id': getCode() + '-card-balance-info' }"></span>
		</div>

		<input type="hidden" data-bind="attr: { 'id': getCode() + '-sessionId'}">
		<input type="hidden" data-bind="attr: { 'id': getCode() + '-balance'}">
	</div>

	<div class="actions-toolbar">
		<div class="primary">
			<button class="action action-add primary" type="button" disabled data-bind="attr: { 'id': getCode() + '-apply-gift-card'}, click: setGiftCard">
				<span>Apply</span>
			</button>
		</div>
		<div class="secondary">
			<button class="action action-check" type="button" disabled data-bind="attr: { 'id': getCode() + '-get-gift-card-balance'}, click: checkBalance">
				<span>See Balance</span>
			</button>
		</div>
	</div>    
    </div>
</div>
<!-- /ko -->
